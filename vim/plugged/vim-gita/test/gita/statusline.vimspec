Describe gita#statusline
  Before
    Init
    WorkonInside
    let bufname = 'foo.txt'
    if empty(bufname(bufname))
      silent execute printf('new %s', bufname)
    else
      silent execute printf('%dwincmd w', bufwinnr(bufname))
    endif
  End

  Context #format({format}[, {expr}])
    It should return a formatted string
      let format = join([
            \ '%ln',
            \ '%lb',
            \ '%rn',
            \ '%rb',
            \ '%og',
            \ '%ic',
            \ '%nc',
            \ '%nu',
            \ '%ns',
            \ '%na',
            \ '%nd',
            \ '%nr',
            \ '%nm',
            \])
      let ret = gita#statusline#format(format, '%')
      let exp = join(filter([
            \ 'inside',
            \ 'master',
            \ '',
            \ '',
            \ '',
            \ '',
            \ '',
            \ '',
            \ '',
            \ '',
            \ '',
            \ '',
            \ '',
            \], 'len(v:val)'))
      Assert Equals(ret, exp)
    End
  End
End
